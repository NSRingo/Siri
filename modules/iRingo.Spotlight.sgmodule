#!name = Ô£ø iRingo: üîç Spotlight
#!desc = macOS 14.5‚¨áÔ∏è\nÂÖ®Èù¢Ëá™ÂÆö‰πâ„ÄåSiri‰∏éËÅöÁÑ¶„Äç‰∏≠ÁöÑ„ÄåSiri Âª∫ËÆÆ„ÄçÂäüËÉΩ„ÄÇ\n‚ö†Ô∏èÊú¨Ê®°Âùó‰∏çÂê´Ëá™ÂÆö‰πâ„ÄåSiri‰∏éËÅöÁÑ¶„Äç‰∏≠ÁöÑ„ÄåËØ¢ÈóÆ Siri„ÄçÂäüËÉΩ„ÄÇ
#!openUrl = http://boxjs.com/#/app/iRingo.Spotlight
#!author = VirgilClyne[https://github.com/VirgilClyne]
#!manual = https://nsringo.github.io/guide/Siri/siri-and-search
#!icon = https://developer.apple.com/assets/elements/icons/spotlight/spotlight-128x128.png
#!category = Ô£ø iRingo
#!system = mac
#!arguments = Proxy:"üåëProxy",CountryCode:"SG",Domains:"web,itunes,app_store,movies,restaurants,maps",Functions:"flightutilities,lookup,mail,messages,news,safari,siri,spotlight,visualintelligence",SafariSmartHistory:true,LogLevel:"WARN"
#!arguments-desc = Proxy: macOS‚ÄòÊü•ËØ¢‚Äô‰ª£ÁêÜÁ≠ñÁï•\nCountryCode: ÂõΩÂÆ∂ÊàñÂú∞Âå∫‰ª£Á†Å\n    ‚îú AUTO: üá∫üá≥Ëá™Âä®ÔºàË∑üÈöèÁ≥ªÁªüÂú∞Âå∫ËÆæÁΩÆÔºâ\n    ‚îú CN: üá®üá≥‰∏≠ÂõΩÂ§ßÈôÜ\n    ‚îú HK: üá≠üá∞‰∏≠ÂõΩÈ¶ôÊ∏Ø\n    ‚îú TW: üáπüáº‰∏≠ÂõΩÂè∞Êπæ\n    ‚îú SG: üá∏üá¨Êñ∞Âä†Âù°\n    ‚îú US: üá∫üá∏ÁæéÂõΩ\n    ‚îú JP: üáØüáµÊó•Êú¨\n    ‚îú AU: üá¶üá∫Êæ≥Â§ßÂà©‰∫ö\n    ‚îú GB: üá¨üáßËã±ÂõΩ\n    ‚îú KR: üá∞üá∑Èü©ÂõΩ\n    ‚îú CA: üá®üá¶Âä†ÊãøÂ§ß\n    ‚îî IE: üáÆüá™Áà±Â∞îÂÖ∞\n‰∏çÂêåÂõΩÂÆ∂ÊàñÂú∞Âå∫Êèê‰æõÁöÑÂÜÖÂÆπÊàñÊúâÂ∑ÆÂà´ÔºåÊ≠§ÈÄâÈ°πÂêåÊó∂‰ºöÂΩ±ÂìçÂàÜÈÖçÁªôÊÇ®‰∏çÂêåÂú∞Âå∫ÁöÑ Siri ÊúçÂä°Âô®„ÄÇ\n\nDomains: ÊêúÁ¥¢È¢ÜÂüü\n    ‚îú web: ÁΩëÈ°µ\n    ‚îú itunes: iTunes\n    ‚îú app_store: App Store\n    ‚îú movies: ÁîµÂΩ±\n    ‚îú restaurants: È§êÂéÖ\n    ‚îî maps: Âú∞Âõæ\nÂêØÁî®ÊêúÁ¥¢ÁöÑÈ¢ÜÂüüÔºåÈ¢ÜÂüüÊï∞ÊçÆÁî±ÂõΩÂÆ∂ÊàñÂú∞Âå∫ËÆæÁΩÆÂÜ≥ÂÆöÔºåÊ≠§ÈÄâÈ°π‰ªÖÂºÄÂêØÊêúÁ¥¢ÁöÑÈ¢ÜÂüüÔºå‰∏ç‰ª£Ë°®ËÆæÁΩÆÁöÑÂú∞Âå∫‰∏ÄÂÆöÊúâÁõ∏Â∫îÁöÑÊï∞ÊçÆÂíåÊúçÂä°„ÄÇ\n\nFunctions: ÂäüËÉΩ\n    ‚îú flightutilities: Ëà™Áè≠Â∑•ÂÖ∑\n    ‚îú lookup: Êü•ËØ¢\n    ‚îú mail: ÈÇÆ‰ª∂\n    ‚îú messages: ‰ø°ÊÅØ\n    ‚îú news: Êñ∞Èóª\n    ‚îú safari: SafariÊµèËßàÂô®\n    ‚îú siri: Siri\n    ‚îú spotlight: ËÅöÁÑ¶ÊêúÁ¥¢\n    ‚îî visualintelligence: ËßÜËßâÊô∫ËÉΩ\nÂêØÁî®ÁöÑ„ÄåSiri Âª∫ËÆÆ„ÄçÂäüËÉΩÔºåÊú™ÈÄâÁöÑÂäüËÉΩ‰∏ç‰ª£Ë°®ÂÖ≥Èó≠Ôºå‰ªÖ‰ª£Ë°®ËøòÂéüÂà∞ËØ•Âú∞Âå∫ÈªòËÆ§ËÆæÁΩÆÁä∂ÊÄÅ„ÄÇ\n\nSafariSmartHistory: Safari Êô∫ËÉΩÂéÜÂè≤ËÆ∞ÂΩï\nÊòØÂê¶Âú® Safari ÊµèËßàÂô®‰∏≠ÂêØÁî®Âü∫‰∫éÂéÜÂè≤ËÆ∞ÂΩïÁöÑSiriÂª∫ËÆÆÂäüËÉΩÔºåÂêØÁî®ÂêéÂ∞ÜÂú®SafariÊµèËßàÂô®Ëµ∑ÂßãÈ°µÊé®ËçêÂü∫‰∫éÊó∂Èó¥Âú∞ÁÇπË∑®ËÆæÂ§áÁ≠âÁöÑÁõ∏ÂÖ≥ÊµèËßàËÆ∞ÂΩï„ÄÇ\n\nLogLevel: [Ë∞ÉËØï] Êó•ÂøóÁ≠âÁ∫ß\n    ‚îú OFF: ÂÖ≥Èó≠\n    ‚îú ERROR: ‚ùå ÈîôËØØ\n    ‚îú WARN: ‚ö†Ô∏è Ë≠¶Âëä\n    ‚îú INFO: ‚ÑπÔ∏è ‰ø°ÊÅØ\n    ‚îú DEBUG: üÖ±Ô∏è Ë∞ÉËØï\n    ‚îî ALL: ÂÖ®ÈÉ®\nÈÄâÊã©ËÑöÊú¨Êó•ÂøóÁöÑËæìÂá∫Á≠âÁ∫ßÔºå‰Ωé‰∫éÊâÄÈÄâÁ≠âÁ∫ßÁöÑÊó•ÂøóÂ∞ÜÂÖ®ÈÉ®ËæìÂá∫„ÄÇ\n

[Rule]
# > Look Up (Only for Wikipedia@macOS, Surge Enhance Mode enabled required)
RULE-SET,https://github.com/NSRingo/Siri/releases/latest/download/LookUp.Wikipedia.list,{{{Proxy}}}

[Script]
# Bag (iOS/macOS)
‚≠ï Siri.Bag.request = type=http-request, pattern=^https?:\/\/api2?\.smoot\.apple\.(com|cn)\/bag, requires-body=0, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
‚≠ï Siri.Bag.response = type=http-response, pattern=^https?:\/\/api2?\.smoot\.apple\.(com|cn)\/bag, requires-body=1, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/response.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
# Siri Suggestions & Look Up Search (iOS/macOS)
üîç Siri.Search.request = type=http-request, pattern=^https?:\/\/api(2|-.+)\.smoot\.apple\.com\/search, requires-body=0, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
üîç Siri.Search.response = type=http-response, pattern=^https?:\/\/api(2|-.+)\.smoot\.apple\.com\/search, requires-body=1, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/response.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
# Siri Infomation Card (macOS)
üìá Siri.Card.request = type=http-request, pattern=^https?:\/\/api(2|-.+)\.smoot\.apple\.com\/card, requires-body=0, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
üìá Siri.Card.response = type=http-response, pattern=^https?:\/\/api(2|-.+)\.smoot\.apple\.com\/card, requires-body=1, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/response.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"
# Flight Search (iOS/macOS)
üõ´ Siri.Flight.request = type=http-request, pattern=^https?:\/\/api(2|-.+)\.smoot\.apple\.com\/flight, requires-body=0, engine=webview, script-path=https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js, argument=CountryCode="{{{CountryCode}}}"&Domains="{{{Domains}}}"&Functions="{{{Functions}}}"&SafariSmartHistory="{{{SafariSmartHistory}}}"&LogLevel="{{{LogLevel}}}"

[MITM]
hostname = %APPEND% api*.smoot.apple.com, api.smoot.apple.cn
